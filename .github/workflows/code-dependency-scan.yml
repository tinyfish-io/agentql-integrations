# This file is managed by Terraform in github-control repository
# Do not edit this file, all changes will be overwritten
# If you need to change this file, create a pull request in
# https://github.com/tinyfish-io/github-control
---
name: Snyk dependency Scan
on: # yamllint disable-line rule:truthy
  pull_request:

jobs:
  dependency_scan:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Install Snyk CLI
        uses: snyk/actions/setup@0.4.0
      - name: Run Snyk dependency scan
        run: snyk test --severity-threshold=low
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
